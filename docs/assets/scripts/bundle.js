!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/assets",n(n.s=0)}([function(e,t,n){n(2),e.exports=n(1)},function(e,t,n){},function(e,t,n){"use strict";function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var a,l=e[Symbol.iterator]();!(i=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n.r(t);var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n,o,r,a=document.querySelector(".lightbox-v2"),l=a.querySelector(".lightbox-v2-image-area"),s=l.querySelector(".lightbox-v2-image-wrapper"),c=s.querySelector(".lightbox-v2-loading-icon"),u=s.querySelector("img"),h=s.querySelector(".left-icon"),g=s.querySelector(".right-icon"),d=s.querySelector(".cancel-icon"),f=a.querySelector(".lightbox-v2-text-page"),v=a.querySelector(".lightbox-v2-text-quote"),m=i(f.querySelectorAll("span"),2),p=m[0],x=m[1];this.elms={container:a,loadingIcon:c,imageArea:l,imageWrapper:s,image:u,leftIcon:h,rightIcon:g,cancelIcon:d,curPage:p,totalPage:x},this.boxIdx=-1,this.imgPaths=t,h.addEventListener("click",this.toPrevBox.bind(this)),g.addEventListener("click",this.toNextBox.bind(this)),d.addEventListener("click",this.hide.bind(this)),window.addEventListener("resize",(n=this.adjustImageSize.bind(this),o=50,r=null,function(){clearTimeout(r);for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];r=setTimeout.apply(void 0,[n,o].concat(t))}));var y=function(e){return e.stopPropagation()};s.addEventListener("click",y),f.addEventListener("click",y),v.addEventListener("click",y),a.addEventListener("click",this.hide.bind(this)),this.preloadImags()}var t,n,r;return t=e,(n=[{key:"preloadImags",value:function(e){var t=this;if(e=e||0,this.imgPaths&&this.imgPaths.length>e){var n=new Image;n.onload=function(){console.log("Image -"+e+", complete!"),t.preloadImags(e+1)},console.log("Try to preload:"+this.imgPaths[e]),n.src=this.imgPaths[e]}}},{key:"toNextBox",value:function(){var e=this.boxIdx<this.imgPaths.length-1?this.boxIdx+1:0;this.changeBox(e)}},{key:"toPrevBox",value:function(){var e=this.boxIdx>0?this.boxIdx-1:this.imgPaths.length-1;this.changeBox(e)}},{key:"toggleDisplayElems",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.forEach(function(t){var n=e.elms[t];n.classList.remove("lightbox-icons-show"),n.classList.add("lightbox-icons-hide")}),n.forEach(function(t){var n=e.elms[t];n.classList.remove("lightbox-icons-hide"),n.classList.add("lightbox-icons-show")})}},{key:"toLoadingStatus",value:function(e){var t=e?[]:["loadingIcon"];this.toggleDisplayElems(["image","leftIcon","rightIcon","cancelIcon"],t)}},{key:"toShowImageStatus",value:function(){this.toggleDisplayElems(["loadingIcon"],["image","leftIcon","rightIcon","cancelIcon"])}},{key:"adjustImageSize",value:function(){var e,t,n=this.elms,i=n.image,o=n.imageWrapper,r=n.imageArea,a=r.clientHeight,l=r.clientWidth,s=i.naturalHeight,c=i.naturalWidth;if(s&&c){if(s<a&&c<l)e=c,t=s;else{var u=c/s;l/a>u?(t=a,e=a*u):(e=l,t=l/u)}var h=getComputedStyle(o).borderWidth,g=h?h.split("px")[0]:0;i.style.width=e-2*g+"px",o.style.width=e+"px",o.style.height=t+"px"}}},{key:"changeBox",value:function(e){var t=this;if(e!==this.boxIdx){var n=this.elms,i=n.image,o=n.totalPage,r=n.curPage;this.toLoadingStatus(!0);var a=setTimeout(function(){return t.toLoadingStatus(!1)});i.onload=function(){t.adjustImageSize(),clearTimeout(a),setTimeout(function(){t.toShowImageStatus()},200)},i.onerror=function(){console.error("load image failed"),clearTimeout(a)},i.src=this.imgPaths[e],this.boxIdx=e,r.textContent=e+1,o.textContent="/"+this.imgPaths.length}}},{key:"show",value:function(e){this.changeBox(e),this.elms.container.classList.add("lightbox-show")}},{key:"hide",value:function(){this.toLoadingStatus(!0),this.boxIdx=-1,this.elms.container.classList.remove("lightbox-show")}}])&&o(t.prototype,n),r&&o(t,r),e}();function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var l=["fox-02.jpg","fox-04.jpg","fox-05.jpg","fox-01.jpg","fox-03.jpg","fox-06.jpg"],s=l.map(function(e){return"./assets/images/"+e.split(".").join("-s.")}),c=l.map(function(e){return"./assets/images/"+e});new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initPreviewBox(),this.lightBox=new r(c)}var t,n,i;return t=e,(n=[{key:"initPreviewBox",value:function(){var e=this,t=document.querySelector(".img-box-area");s.forEach(function(n,i){var o=document.createElement("div");o.className="img-box",o.addEventListener("click",function(){e.lightBox.show(i)});var r=document.createElement("div");r.style.backgroundImage="url(".concat(n,")"),o.appendChild(r),t.appendChild(o)})}}])&&a(t.prototype,n),i&&a(t,i),e}())}]);